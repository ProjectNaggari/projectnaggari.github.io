<!DOCTYPE html>
<html>
<head>
  <link rel="icon" href="../img/onlytheStampBL.jpg">
  <title>Project Naggari</title>
  <link rel="stylesheet" href="../css/printedbooks.css">
  <script src="../js/CETEI.js"></script>
  <script src="../js/click.js"></script>

  <script>
    let c = new CETEI();
    c.removeBehavior("tei","note");
    c.addBehaviors({
      "tei": {
        "biblStruct": function(e) {
          let row = document.createDocumentFragment();
          let p = document.createElement('p');
          row.appendChild(p);

          let vol = e.querySelector('tei-monogr>tei-imprint>tei-biblscope[source="#d"][lang="ar"]');
          if (vol && !vol.hasAttribute('data-empty')) {
            p.appendChild(vol.cloneNode(true));
          } else {
            p.appendChild(document.createElement('span'));
          }

          let type = e.querySelector('tei-monogr>tei-notegrp>tei-note[lang="ar"]');
          if (type && !type.hasAttribute('data-empty')) {
            p.appendChild(type.cloneNode(true));
          } else {
            p.appendChild(document.createElement('span'));
          }

          let titles = e.querySelectorAll('tei-monogr>tei-title[source="#d"]');
          Array.from(titles).reverse().forEach(title => {
            p.appendChild(title.cloneNode(true));
          });

          let price = e.querySelector('tei-note>tei-measuregrp>tei-measure[source="#d"]>tei-num[lang="ar"]');
          if (!price?.hasAttribute('data-empty')) {
            p.appendChild(price.cloneNode(true));
          } else {
            p.appendChild(document.createElement('span'));
          }
          let img;
          if (e.hasAttribute('facs')) {
            img = document.createElement('img');
            img.setAttribute('src', `/img/page_images/${e.getAttribute('facs')}.jpg`);
          } else {
            img = document.createElement('span');
          }
          p.appendChild(img);

          const full = document.createElement('div');
          // Make a child div with all of the @lang="ar" elements removed
          const en = document.createElement('div');
          en.classList.add('en')
          Array.from(e.children).forEach(child => {
            en.appendChild(child.cloneNode(true));
          });
          en.querySelectorAll('[lang="ar"]').forEach(elt => {
            elt.parentElement.removeChild(elt);
          })
          // Remove notes that have empty paragraphs
          en.querySelectorAll('tei-note>*[data-empty]').forEach(elt => {
            elt.parentElement.parentElement.removeChild(elt.parentElement);
          });
          full.appendChild(en);
          // Make a child div with all of the @lang="ar-Latn-x-lc" and "en" elements removed
          const ar = document.createElement('div');
          ar.classList.add('ar')
          Array.from(e.children).forEach(child => {
            ar.appendChild(child.cloneNode(true));
          });
          ar.querySelectorAll('[lang="ar-Latn-x-lc"], [lang="en"]').forEach(elt => {
            elt.parentElement.removeChild(elt);
          })
          // Make the image
          let bigimg;
          if (e.hasAttribute('facs')) {
            bigimg = document.createElement('img');
            bigimg.setAttribute('src', `/img/page_images/${e.getAttribute('facs')}.jpg`);
          } else {
            bigimg = document.createElement('span');
          }
          full.appendChild(bigimg);

          
          full.appendChild(ar);
          row.appendChild(full);

          return row;
        },
        "biblScope": [
          ['[source="#d"][lang="ar"]', ['','ج']]
        ],
        "persName": [
          ['tei-author>tei-persname[lang="ar-Latn-x-lc"]', ['<b>Author: </b>','']],
          ['tei-author>tei-persname[lang=ar]', ['<b>المؤلف: </b>','']],
        ],
        "publisher": [
          ['tei-imprint>tei-publisher[lang="ar-Latn-x-lc"]', ['<b>Publisher: </b>','']],
          ['tei-imprint>tei-publisher[lang="ar"]', ['<b>دار الطباعة: </b>','']],
        ],
        "pubPlace": [
          [':not([lang])', e => {
            e.parentElement.removeChild(e);
          }],
          ['tei-imprint>tei-pubplace[lang="ar"]', ['<b>مكان الطباعة: </b>','']], 
          ['tei-imprint>tei-pubplace[lang="ar-Latn-x-lc"]', ['<b>Place of Publication: </b>','']],
          ['_', ['(', ')']]
        ],
        "date": [
          ['tei-imprint>tei-date[lang="ar"][type="hijri"]', ['<p><b>تاريخ الطباعة: </b>', '</p>', '']],
          ['tei-imprint>tei-date[lang="en"][type="gregorian"]', ['<b>Date of Publication: </b>','']],

        ],
        "respStmt": function(elt) {
          const result = document.createDocumentFragment();
          elt.querySelectorAll('tei-persname:not([data-empty])').forEach(pn => {
            const np = this.copyAndReset(pn);
            const b = document.createElement('b');
            b.appendChild(this.copyAndReset(pn.parentElement.querySelector('tei-resp>tei-rolename[lang="' + pn.getAttribute('lang') +'"]')));
            np.prepend(b);
            result.appendChild(np);
          });
          return result;
        },
        "roleName": ['', ': '],
        "title": [
          ['tei-monogr>tei-title[lang="ar-Latn-x-lc"][source="#d"]', ['<p><b>Title from the Daftar: </b>', '</p>']],
          ['tei-monogr>tei-title[lang="ar"][source="#d"]', ['<p><b>العنوان في الدفتر: </b>', '</p>']],
          ['tei-monogr>tei-title[lang="ar-Latn-x-lc"]:not([source="#d"])', ['<p><b>Print Title: </b>', '</p>']],
          ['tei-monogr>tei-title[lang="ar"]:not([source="#d"])', ['<p><b>العنوان في النسخة: </b>', '</p>']]

        ]
      }
    })
    c.getHTML5('https://projectnaggari.github.io/naggari_source/TEI_Printed/naggari_printsBiblStruct_Master.xml', function(data) {
      document.querySelector("div#main").appendChild(data);
      const titles = document.querySelectorAll('tei-title[lang="ar-Latn-x-lc"]');
      titles.forEach(title => {
        title.addEventListener("click", showData);
      });
      const idnos = document.querySelectorAll('div>tei-analytic>tei-idno');
      idnos.forEach(idno => {
        idno.addEventListener('click', hideData);
      });
    });</script>

    


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

</head>
<body lang="ar" id="printed1">

  <div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <a class="nav-link" href="../index.html">Home</a>
          <a class="nav-link" href="intro.html">Introduction</a>
          <a class="nav-link" href="life.html">Life of Sheikh al-Naggari</a>
          <a class="nav-link" href="printedbooks.html">Printed Books</a>
          <a class="nav-link" href="manuscripts.html">Manuscripts</a>
          <a class="nav-link" href="visual.html">Visualizations</a>
          <a class="nav-link" href="indexes.html">Indexes</a>
          <a class="nav-link" href="reflections.html">Reflections</a>
    </div>

<div id="main">
  <h3 id="h3">Project Naggari - The Literary World of A Nineteenth-Century Egyptian Sheikh</h1>
     <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Menu</span>

     <div id="printedDescr"> In this page, you can see the data from the inventory book concerning the printed titles in Naggari's possession at the moment of his death. The inventory-maker only noted the value, a short title, the fact that the title is a printed book, and whether it is <i>mīrī</i> (government-printed books) or <i>barrānī</i> (non-government printed book, what we call "external"). (The manuscript titles were registered with an short extra remark on their binding and decoration.) To help students, we add in this page the translitareted version of the short Arabic title. If you click on the transliterated title you can find the actual print (if we could identify it) of which one copy was in al-Naggari's possession. And you can find also the 50 metadata categories that we created based on this identified copy. If you want to learn more about our working method, levels of certainty, and about our categories, read the <a href="https://projectnaggari.github.io/pages/reflections.html">Reflections</a> section.  

     </div>
     
</div>

<script>  

function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
  document.getElementById("main").style.marginLeft= "0";
}

</script>



</body>

</html>
